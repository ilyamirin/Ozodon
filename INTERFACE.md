# –ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ö–∞–± Ozodon

## üåê **1. –ö–∞–∫ —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤ —Å—Ç–∏–ª–µ Mastodon / Fediverse)**  
–•–∞–± ‚Äî —ç—Ç–æ **–∏–Ω—Å—Ç–∞–Ω—Å Fediverse**, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å **ActivityPub**, –∏ –¥–æ–ª–∂–µ–Ω —Å–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º:
- [ActivityPub W3C](https://www.w3.org/TR/activitypub/)
- [Fediverse Protocol Best Practices](https://docs.joinmastodon.org/spec/activitypub/)
- [Security & Discovery (WebFinger, NodeInfo)](https://nodeinfo.diaspora.software/)

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ)

| –§—É–Ω–∫—Ü–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | URL |
|--------|-----------|-----|
| **ActivityPub Inbox/Outbox** | –ü—Ä–∏—ë–º –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π | `/.well-known/webfinger`, `/users/{username}/inbox`, `/users/{username}/outbox` |
| **WebFinger** | –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`acct:anna@ozodon.net`) | `/.well-known/webfinger?resource=acct:user@domain` |
| **NodeInfo** | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–± –∏–Ω—Å—Ç–∞–Ω—Å–µ (–≤–µ—Ä—Å–∏—è, —ë–º–∫–æ—Å—Ç—å, —Å–æ—Ñ—Ç) | `/.well-known/nodeinfo`, `/nodeinfo/2.0` |
| **–§–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (Follow)** | –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –º–∞–≥–∞–∑–∏–Ω—ã/–ø—Ä–æ–¥–∞–≤—Ü–æ–≤ | `/users/{id}/follow` (ActivityPub `Follow`) |
| **–†–∞—Å—Å—ã–ª–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** | –û—Ç–ø—Ä–∞–≤–∫–∞ `Create`, `Offer`, `Update` –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º | –ß–µ—Ä–µ–∑ `outbox` ‚Üí –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ `inbox` –¥—Ä—É–≥–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ |
| **–ü—É–±–ª–∏—á–Ω–∞—è –ª–µ–Ω—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ö–∞–±–∞)** | –ü–æ–∫–∞–∑ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ —Å–µ—Ç–∏ | `/timeline/public` |
| **–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤** | –ü–æ–∏—Å–∫ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –ø–æ `@username@domain` | `/search?q=@anna&type=accounts` |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—ç—à–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (–∞–∫—Ç–æ—Ä–æ–≤)** | –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ | `/users/{remote_id}` (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∞–∫—Ç–æ—Ä) |
| **–ü–æ–¥–ø–∏—Å—å ActivityPub-–æ–±—ä–µ–∫—Ç–æ–≤ (HTTP Signatures)** | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π | –ó–∞–≥–æ–ª–æ–≤–∫–∏ `Signature`, `Date` |
| **–î–æ—Å—Ç–∞–≤–∫–∞ (Delivery)** | –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –¥—Ä—É–≥–∏–º –∏–Ω—Å—Ç–∞–Ω—Å–∞–º | `POST /inbox` –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã |

---

## üõçÔ∏è **2. –ö–∞–∫ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (Ozodon-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)**  
–•–∞–± –¥–æ–ª–∂–µ–Ω –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏ —É–ø—Ä–æ—â–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ **—Ç–æ–≤–∞—Ä–∞–º, —Å–¥–µ–ª–∫–∞–º, —Ä–µ–ø—É—Ç–∞—Ü–∏–∏**, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å)

| –§—É–Ω–∫—Ü–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | URL |
|--------|-----------|-----|
| **–ü—Ä–∏—ë–º –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è `Offer`** | –°–±–æ—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ—Ç –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ | `POST /hub/inbox` |
| **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º** | –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ç–µ–≥—É, —Ü–µ–Ω–µ, —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ | `GET /hub/search?q=...&tag=...` |
| **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (—Ä–µ–ø—É—Ç–∞—Ü–∏—è)** | –ù–∞ –æ—Å–Ω–æ–≤–µ Web of Trust | `GET /hub/trust/score?actor={id}` |
| **–†–µ–µ—Å—Ç—Ä —Ö–∞–±–æ–≤** | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ | `GET /hub/hubs` |
| **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Ö–∞–±–∞–º–∏** | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ | `POST /hub/replicate` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) |
| **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–æ–¥–∞–≤—Ü–∞** | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –æ—Ç–∑—ã–≤—ã, —Ä–µ–ø—É—Ç–∞—Ü–∏—è | `/hub/seller/{actor_id}` |
| **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–µ–≥–∏** | –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º —Ç–æ–≤–∞—Ä–æ–≤ | `/hub/tags`, `/hub/categories` |
| **–°–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤** | –õ–µ–Ω—Ç–∞ "–Ω–æ–≤–∏–Ω–æ–∫" | `/hub/feeds/latest` |
| **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** | –ü–æ —Ü–µ–Ω–µ, —Ä–µ–ø—É—Ç–∞—Ü–∏–∏, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–µ—Å–ª–∏ –≥–µ–æ) | –í `/hub/search` ‚Äî –≤–µ—Å–∞: `score = price * (1.5 - trust)` |
| **API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤** | –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –±–µ–∑ ActivityPub | `GET /api/v1/products`, `GET /api/v1/reviews` |
| **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (frontend)** | –ü–æ–∏—Å–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä, –ø–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ | `/hub`, `/hub/product/{id}` |
| **–û–ø–ª–∞—Ç–∞ —Å —ç—Å–∫—Ä–æ—É (TON)** | –ë—Ä–æ–Ω—å —Ç–æ–≤–∞—Ä–∞ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–≤–æ–∑–≤—Ä–∞—Ç | `POST /hub/payments/escrow`, `POST /hub/payments/{deal_id}/confirm`, `POST /hub/payments/{deal_id}/refund`, `GET /hub/payments/{deal_id}` |

---

## üîê –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è

| –§—É–Ω–∫—Ü–∏—è | URL |
|--------|-----|
| **–°–ø–∞–º-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ WoT** | –ü—Ä–∏ `Flag` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–≤–µ—Ä–∏—è —Ä–µ–ø–æ—Ä—Ç—ë—Ä–∞ |
| **–ß—ë—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏ (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)** | `/hub/moderation/blocked-instances` |
| **–ñ–∞–ª–æ–±—ã (Flag)** | `POST /inbox` —Å `type: Flag` |
| **–û—Ç–∑—ã–≤—ã (Review)** | –ß–µ—Ä–µ–∑ `Like` –∏–ª–∏ `Announce` —Å –æ–±—ä–µ–∫—Ç–æ–º `Review` |

---

## üìå –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ URL (—Ä–æ—É—Ç–∏–Ω–≥)

### üåê –§–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–æ–±—â–∏–µ –¥–ª—è Fediverse)
```
/.well-known/webfinger
/.well-known/nodeinfo
/nodeinfo/2.0
/users/{username}/inbox
/users/{username}/outbox
/users/{username}          ‚Üí –ø—Ä–æ—Ñ–∏–ª—å –∞–∫—Ç–æ—Ä–∞
/followers, /following
```

### üõí –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å-—Ñ—É–Ω–∫—Ü–∏–∏ (Ozodon Hub)
```
/hub/inbox                 ‚Üí –ø—Ä–∏—ë–º Offer, Trust
/hub/search                ‚Üí –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
/hub/trust/score?actor=... ‚Üí —Ä–µ–ø—É—Ç–∞—Ü–∏—è
/hub/hubs                  ‚Üí —Å–ø–∏—Å–æ–∫ —Ö–∞–±–æ–≤
/hub/seller/{id}           ‚Üí –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞
/hub/feeds/latest          ‚Üí –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
/hub/tags                  ‚Üí –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–≥–∏
/hub/info                  ‚Üí —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö–∞–±–∞

# –ü–ª–∞—Ç–µ–∂–∏ –∏ —ç—Å–∫—Ä–æ—É (TON)
/hub/payments/escrow       ‚Üí —Å–æ–∑–¥–∞—Ç—å —Å–¥–µ–ª–∫—É: –±—Ä–æ–Ω—å + –∑–∞–º–æ—Ä–æ–∑–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤
/hub/payments/{deal_id}    ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–¥–µ–ª–∫–∏
/hub/payments/{deal_id}/confirm ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É (release)
/hub/payments/{deal_id}/refund  ‚Üí –∑–∞–ø—Ä–æ—Å–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç
```

### üñ•Ô∏è –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```
/hub                       ‚Üí –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞
/hub/product/{id}         ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞
/hub/seller/{id}          ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
```

### üì° API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```
/api/v1/products?q=...
/api/v1/sellers/{id}/reviews
```

---

## ‚úÖ –ò—Ç–æ–≥: —Ö–∞–± Ozodon ‚Äî —ç—Ç–æ **–≥–∏–±—Ä–∏–¥**

| –†–æ–ª—å | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|------|------------|
| **–§–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–π —É–∑–µ–ª** | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ Fediverse: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç/–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ActivityPub, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebFinger, NodeInfo |
| **–ú–∞—Ä–∫–µ—Ç-—Ö–∞–±** | –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã, —Ä–∞–Ω–∂–∏—Ä—É–µ—Ç –ø–æ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| **–†–æ—É—Ç–µ—Ä –¥–æ–≤–µ—Ä–∏—è** | –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç Web of Trust |
| **–†–µ–ø–ª–∏—Ü–∏—Ä—É–µ–º—ã–π –∏–Ω–¥–µ–∫—Å** | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ —Ö–∞–±–∞–º–∏ –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ |

---

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ù–µ –¥—É–±–ª–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** ‚Äî —Ö—Ä–∞–Ω–∏—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ `id`.
2. **–ü–æ–¥–ø–∏—Å—ã–≤–∞–π –≤—Å–µ –∏—Å—Ö–æ–¥—è—â–∏–µ –æ–±—ä–µ–∫—Ç—ã** ‚Äî HTTP Signatures.
3. **–ö—ç—à–∏—Ä—É–π –∞–∫—Ç–æ—Ä–æ–≤ –∏ –æ–±—ä–µ–∫—Ç—ã** ‚Äî –Ω–æ –æ–±–Ω–æ–≤–ª—è–π –ø—Ä–∏ `Update`.
4. **–†–∞–∑—Ä–µ—à–∞–π –¥–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é** ‚Äî –µ—Å–ª–∏ `Delete` –ø—Ä–∏—Ö–æ–¥–∏—Ç, —É–¥–∞–ª—è–π –∏–∑ —Ö–∞–±–∞.
5. **–ò—Å–ø–æ–ª—å–∑—É–π `#market` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–≥** –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è.
6. **–ü–æ–∑–≤–æ–ª—è–π —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ** ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `GET /hub/offers.json`.
